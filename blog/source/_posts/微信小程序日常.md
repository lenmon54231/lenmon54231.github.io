---

title: 微信小程序日常
date: 2020-07-12 17:16:26
tags: [js,hexo]
---

<meta name="referrer" content="no-referrer"/>

## 微信小程序日常

### 使用彩色的图标1

```js
配合阿里iconfont，下载icon项目，进入iconfont文件夹
npm install -g iconfont-tools
iconfont-tools
在原来下载的目录中多出来一个文件夹
打开文件夹选择其中的wxss文件引入到微信小程序中即可
```

使用如下：

```js
<icon class="t-icon t-icon-ziyuan9"></icon>
icon-ziyuan9就是iconfont中复制的class
```

### 编辑器打开默认页面

```js
将app.json中list顺序修改即可
"pages": [
    "pages/mine/mine",
    "pages/index/index",
    "pages/userConsole/userConsole",
    "pages/storageConsole/storageConsole",
    "pages/databaseGuide/databaseGuide",
    "pages/addFunction/addFunction",
    "pages/deployFunctions/deployFunctions",
    "pages/chooseLib/chooseLib",
    "pages/openapi/openapi",
    "pages/openapi/serverapi/serverapi",
    "pages/openapi/callback/callback",
    "pages/openapi/cloudid/cloudid",
    "pages/im/im",
    "pages/im/room/room",
    "pages/mine",
    "pages/recorder/recorder"
],
```

如上，总是会打开个人中心页面（mine页面）

### 使用彩色的图标2

阿里iconfont提供了Symbol类型的引入方式，拥有很多优点，记录下再小程序中的使用

```js
npm install mini-program-iconfont-cli --save-dev

npx iconfont-init
# 可传入配置输出路径
# npx iconfont-init --output iconfont.json
```

初始化后会生成一个json配置文件,修改配置如下

```js
{
  "symbol_url": "//at.alicdn.com/t/font_2428200_oocwz3ghukn.js",
  "save_dir": "miniprogram/components/iconfont",
  "use_rpx": true,
  "trim_icon_prefix": "icon",
  "default_icon_size": 50
}
```

symbol_url：将官网的地址引入

save_dir：根据自己的目录生成

生成标准组件

```js
# 可传入配置文件路径
# npx iconfont-XXXX --config iconfont.json

# 微信小程序
npx iconfont-wechat

# 支付宝小程序
npx iconfont-alipay

# 百度小程序
npx iconfont-baidu

# 头条小程序
npx iconfont-toutiao

# QQ小程序
npx iconfont-qq
```

引入

在根目录 的app.json文件中引入全局图标组件，避免每个page都引入，也可单个page引入

```
// 绝对路径
{
    "usingComponents": {
      "iconfont": "components/iconfont/iconfont"
    }
}
```

使用组件

```js
// 原色彩
<iconfont name="alipay" />

// 单色：红色
<iconfont name="alipay" color="red" />

// 多色：红色+橘色
<iconfont name="alipay" color="{{['red', 'orange']}}" size="300" />

// 不同格式的颜色写法
<iconfont name="alipay" color="{{['#333', 'rgb(50, 124, 39)']}}" />
```

